(this.webpackJsonplongwave=this.webpackJsonplongwave||[]).push([[0],{109:function(e,t){},112:function(e,t,r){"use strict";r.r(t);var n=r(2),a=(r(52),r(53),r(54),r(0)),o=r.n(a),i=r(10),s=r.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=r(19),l=(r(58),r(25)),u=r(8),d=r(7);function j(e,t){var r=localStorage.getItem(t);null==r?localStorage.setItem(t,JSON.stringify(e)):e=JSON.parse(r);var n=Object(a.useState)(e),o=Object(d.a)(n,2),i=o[0],s=o[1];return[i,function(e){localStorage.setItem(t,JSON.stringify(e)),s(e)}]}var b,h,m,g=r(4);r(59);function p(){return Math.floor(21*Math.random())}function f(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890",t="",r=0;r<4;r++)t+=e[Math.floor(Math.random()*e.length)];return t}function v(e){return e===m.Left?m.Right:e===m.Right?m.Left:m.Unset}function O(e){return e===m.Left?"LEFT BRAIN":e===m.Right?"RIGHT BRAIN":"the players"}function x(){return{gameType:h.Teams,roundPhase:b.SetupGame,turnsTaken:-1,deckSeed:f(),deckIndex:0,spectrumTarget:p(),clue:"",guess:0,counterGuess:"left",players:{},clueGiver:"",leftScore:0,rightScore:0,coopScore:0,coopBonusTurns:0,previousTurn:null}}!function(e){e[e.SetupGame=0]="SetupGame",e[e.PickTeams=1]="PickTeams",e[e.GiveClue=2]="GiveClue",e[e.MakeGuess=3]="MakeGuess",e[e.CounterGuess=4]="CounterGuess",e[e.ViewScore=5]="ViewScore"}(b||(b={})),function(e){e[e.Teams=0]="Teams",e[e.Cooperative=1]="Cooperative",e[e.Freeplay=2]="Freeplay"}(h||(h={})),function(e){e[e.Unset=0]="Unset",e[e.Left=1]="Left",e[e.Right=2]="Right"}(m||(m={}));var y={display:"flex",flexFlow:"row",justifyContent:"space-evenly",alignItems:"center"};function S(e){return Object(n.jsx)("div",{style:Object(g.a)(Object(g.a)({},y),{},{flexFlow:"row"},e.style),children:e.children})}function C(e){return Object(n.jsx)("div",{style:Object(g.a)(Object(g.a)({},y),{},{flexFlow:"column"},e.style),children:e.children})}var w=r(62);function k(e){var t=new w;t.from_hue(e).scheme("contrast").variation("soft");var r=t.colors(),n=Object(d.a)(r,5);return["#"+n[0],"#"+n[4]]}function T(){var e=Object(a.useState)(0),t=Object(d.a)(e,2),r=t[0],o=t[1],i=k(r),s=Object(d.a)(i,2),c=s[0],l=s[1];return Object(a.useEffect)((function(){var e=setInterval((function(){o((function(e){return(e+1)%360}))}),5);return function(){return clearInterval(e)}})),Object(n.jsx)("h1",{style:{backgroundImage:"linear-gradient(90deg, ".concat(c," 10%, ").concat(l," 90%)"),WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"},children:"Longwave"})}function G(e){var t=Object(a.useRef)(null);return Object(n.jsxs)(C,{children:[Object(n.jsx)(T,{}),Object(n.jsx)("div",{children:"Enter your name:"}),Object(n.jsx)("input",{type:"text",ref:t,onKeyDown:function(r){return!!t.current&&("Enter"!==r.key||void e.setName(t.current.value))}})]})}var P=Object(a.createContext)({gameState:x(),localPlayer:{id:"localPlayer",name:"Player",team:m.Unset},clueGiver:null,spectrumCard:["left","right"],setGameState:function(e){console.warn("GameModelContext not provided. Got setGameState: "+JSON.stringify(e))}}),I=r(47);function U(e){var t=k(function(e){for(var t=0,r=0;r<e.length;r++)t+=e.charCodeAt(r);return t}(e.spectrumCard[0])),r=Object(d.a)(t,2),a=r[0],o=r[1],i={padding:8,fontWeight:"bold"},s={height:18,width:18,backgroundColor:"rgba(255,255,255,0.8)",borderColor:"black"},c=Object(g.a)(Object(g.a)({},s),{},{cursor:"auto",bottom:-9,borderWidth:4,transform:"translateX(-5px)"});e.onChange||(s.cursor="auto",s.boxShadow="none"),void 0===e.handleValue&&(s.display="none");var l={};return void 0!==e.targetValue&&(l[e.targetValue]={style:{fontWeight:"bold",color:"black",cursor:"auto"},label:"Target"}),void 0!==e.guessingValue&&(l[e.guessingValue]={style:{fontWeight:"bold",color:"black",cursor:"auto"},label:"Guessing..."}),Object(n.jsx)("div",{style:{padding:8},children:Object(n.jsxs)(C,{style:{alignItems:"stretch"},children:[Object(n.jsxs)(S,{style:{justifyContent:"space-between"},children:[Object(n.jsx)("div",{style:Object(g.a)(Object(g.a)({},i),{},{backgroundColor:a}),children:e.spectrumCard[0]}),Object(n.jsx)("div",{style:Object(g.a)(Object(g.a)({},i),{},{backgroundColor:o}),children:e.spectrumCard[1]})]}),Object(n.jsx)("div",{style:{padding:"16px 32px"},children:Object(n.jsx)(I.a,{min:0,max:20,value:e.handleValue,trackStyle:{backgroundColor:"transparent"},railStyle:{background:"linear-gradient(90deg, ".concat(a," 0%, ").concat(o," 100%)"),height:8},handleStyle:s,onChange:e.onChange,marks:l,dotStyle:c})})]})})}function L(e){return Object(n.jsx)("input",{style:{padding:8,margin:8},type:"button",value:e.text,onClick:e.onClick,disabled:e.disabled})}var B=r(23),F=r(24),R=r(32);function E(e){return Object(n.jsx)(R.a,{content:e.children,placement:"bottom",children:Object(n.jsx)("div",{style:{margin:8},children:Object(n.jsx)(B.a,{icon:F.b})})})}function W(e){var t=Object(a.useState)(e.animation),r=Object(d.a)(t,2),o=r[0],i=r[1];return Object(a.useEffect)((function(){setTimeout((function(){return i(e.animation+" animate")}))})),Object(n.jsx)("div",{className:o,style:e.style,children:e.children})}function M(){var e,t,r=Object(a.useContext)(P),o=r.gameState,i=r.localPlayer,s=r.clueGiver,c=r.spectrumCard,l=r.setGameState,u=Object(a.useRef)(null),j=Object(a.useState)(!(null===(e=u.current)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length)),m=Object(d.a)(j,2),g=m[0],f=m[1];if(!s)return l({clueGiver:i.id}),null;if(i.id!==s.id)return Object(n.jsxs)("div",{children:[Object(n.jsx)(W,{animation:"wipe-reveal-right",children:Object(n.jsx)(U,{spectrumCard:c})}),Object(n.jsx)(C,{children:Object(n.jsxs)("div",{children:["Waiting for ",s.name," to provide a clue..."]})})]});var v=function(){var e,t;if(!(null===(e=u.current)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length))return!1;l({clue:u.current.value,guess:10,roundPhase:b.MakeGuess})};return Object(n.jsxs)("div",{children:[o.gameType!==h.Cooperative&&Object(n.jsx)(C,{style:{alignItems:"flex-end"},children:Object(n.jsx)(L,{text:"Draw a different card",onClick:function(){return l({deckIndex:o.deckIndex+1,spectrumTarget:p()})}})}),Object(n.jsx)(W,{animation:"wipe-reveal-right",children:Object(n.jsx)(U,{targetValue:o.spectrumTarget,spectrumCard:c})}),Object(n.jsxs)(C,{children:[Object(n.jsxs)(S,{children:[Object(n.jsx)("input",{type:"text",placeholder:"Clue...",ref:u,onKeyDown:function(e){if("Enter"!==e.key)return!0;v()},onChange:function(){var e,t;return f(!(null===(e=u.current)||void 0===e||null===(t=e.value)||void 0===t?void 0:t.length))}}),Object(n.jsx)(E,{children:Object(n.jsxs)("div",{children:['Your clue should be some concept that lies on the provided spectrum, conceptually located where the target is between the two extremes. For example, "coffee" might be a good clue that lies on a spectrum of "hot" to "cold".',Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"Convey a single thought"}),Object(n.jsx)("li",{children:"Stay on topic"}),Object(n.jsx)("li",{children:"No numbers allowed"}),Object(n.jsx)("li",{children:"Be creative!"})]})]})})]}),Object(n.jsx)(L,{text:"Submit Clue",onClick:v,disabled:g})]})]})}r(113);function H(e,t){var r=Math.abs(e-t);return r>2?0:4-Math.floor(r)}function N(e,t,r){var n=H(e.spectrumTarget,e.guess),a="left"===r&&e.spectrumTarget<e.guess||"right"===r&&e.spectrumTarget>e.guess,o={roundPhase:b.ViewScore,counterGuess:r};return t===m.Right&&(o.rightScore=e.rightScore+n,o.leftScore=e.leftScore+(a?1:0)),t===m.Left&&(o.leftScore=e.leftScore+n,o.rightScore=e.rightScore+(a?1:0)),o}function D(){var e=Object(a.useContext)(P),t=e.gameState,r=e.localPlayer,o=e.clueGiver,i=e.spectrumCard,s=e.setGameState;if(!o)return null;var l=r.id===o.id||t.gameType===h.Teams&&r.team!==o.team,u=O(o.team);return l?Object(n.jsxs)("div",{children:[Object(n.jsx)(U,{spectrumCard:i,guessingValue:t.guess}),Object(n.jsxs)(C,{children:[Object(n.jsxs)("div",{children:[o.name,"'s clue: ",Object(n.jsx)("strong",{children:t.clue})]}),Object(n.jsxs)("div",{children:["Waiting for ",u," to guess..."]}),Object.keys(t.players).length<2&&Object(n.jsxs)("div",{style:{margin:12,padding:"0 1em",border:"1px solid black"},children:[Object(n.jsx)("p",{children:"Invite other players to join the game."}),Object(n.jsxs)("p",{children:["Share this URL with them: ",window.location.href]})]})]})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(U,{spectrumCard:i,handleValue:t.guess,onChange:function(e){s({guess:e})}}),Object(n.jsxs)(C,{children:[Object(n.jsxs)("div",{children:[o.name,"'s clue: ",Object(n.jsx)("strong",{children:t.clue})]}),Object(n.jsx)("div",{children:Object(n.jsx)(L,{text:"Submit Guess for ".concat(O(r.team)),onClick:function(){var e,r;e="guess_submitted",r={spectrum_card:i.join("|"),clue:t.clue,target:t.spectrumTarget.toString(),guess:t.guess.toString()},c.a.analytics().logEvent(e,Object(g.a)({app_name:"Longwave",screen_name:"index"},r)),t.gameType===h.Teams?s({roundPhase:b.CounterGuess}):t.gameType===h.Cooperative?s(function(e){var t=H(e.spectrumTarget,e.guess),r={roundPhase:b.ViewScore};return 4===t?(r.coopScore=e.coopScore+3,r.coopBonusTurns=e.coopBonusTurns+1):r.coopScore=e.coopScore+t,r}(t)):s({roundPhase:b.ViewScore})}})})]})]})}var V=r(45),A=r.n(V),z=[].concat([["Bad actor","Good actor"],["Basic","Hipster"],["Worthless","Priceless"],["Nature","Nurture"],["Happens slowly","Happens suddenly"],["Job","Career"],["Round","Pointy"],["Proof that God exists","Proof that God doesn't exist"],["Loved","Hated"],["The Light Side of the Force","The Dark Side of the Force"],["Stupid","Brilliant"],["Artisanal","Mass Produced"],["Nobody does it","Everybody does it"],["Short lived","Long lived"],["Dangerous job","Safe job"],["Fantasy","Sci-Fi"],["Plain","Fancy"],["Has a bad reputation","Has a good reputation"],["Ethical to eat","Unethical to eat"],["Movie","Film"],["Unfashionable","Fashionable"],["Freedom fighter","Terrorist"],["Bad superpower","Good superpower"],["Ineffective","Effective"],["Better hot","Better cold"],["Square","Round"],["Temporary","Permanent"],["Looks like a person","Doesn't look like a person"],["Uncool","Cool"],["Worst living person","Greatest living person"],["Underrated","Overrated"],["Messy food","Clean food"],["Unforgivable","Forgivable"],["Failure","Masterpiece"],["Harmless","Harmful"],["Gryffindor","Slytherin"],["Unhygienic","Hygienic"],["Bad music","Good music"],["Useless","Useful"],["Movie that Godzilla would ruin","Movie that Godzilla would improve"],["Unimportant","Important"],["Easy to spell","Hard to spell"],["Vice","Virtue"],["Underrated musician","Overrated musician"],["Unpopular activity","Popular activity"],["Divided","Whole"],["Unreliable","Reliable"],["Easy to kill","Hard to kill"],["Unstable","Stable"],["Round animal","Pointy animal"],["Bad TV show","Good TV show"],["Traditionally masculine","Traditionally feminine"],["Useless body part","Useful body part"],["Fad","Classic"],["Weak","Strong"],["Disgusting cereal","Delicious cereal"],["Bad","Good"],["Mildly addictive","Highly addictive"],["Useless in an emergency","Useful in an emergency"],["For kids","For adults"],["Villain","Hero"],["Underrated thing to do","Overrated thing to do"],["Boring","Exciting"],["Smelly in a bad way","Smelly in a good way"],["Unpopular","Popular"],["Friend","Enemy"],["Useless invention","Useful invention"],["Liberal","Conservative"],["Hot","Cold"],["Normal","Weird"],["Colorless","Colorful"],["Low calorie","High calorie"],["Easy subject","Hard subject"],["Unknown","Famous"],["Rare","Common"],["Unsexy emoji","Sexy emoji"],["Cheap","Expensive"],["Underrated weapon","Overrated weapon"],["Feels bad","Feels good"],["Inessential","Essential"],["Dirty","Clean"],["Requires luck","Requires skill"],["Flavorless","Flavorful"],["Boring topic","Fascinating topic"],["Casual","Formal"],["Underpaid","Overpaid"],["Dry","Wet"],["Underrated skill","Overrated skill"],["Forbidden","Encouraged"],["Sad song","Happy song"],["Fragile","Durable"],["Geek","Dork"],["Good","Evil"],["Worst day of the year","Best day of the year"],["Bad habit","Good habit"],["Cat person","Dog person"],["Wise","Intelligent"],["Hard to do","Easy to do"],["Mental activity","Physical activity"],["Uncontroversial topic","Controversial topic"],["Guilty pleasure","Openly love"],["Untalented","Talented"],["Hard to find","Easy to find"],["Ugly Man","Beautiful Man"],["Hard to remember","Easy to remember"],["Lowbrow","Highbrow"],["Unhealthy","Healthy"],["Bad man","Good man"],["Historically important","Historically irrelevant"],["Hairless","Hairy"],["Inflexible","Flexible"],["Normal pet","Exotic pet"],["Introvert","Extrovert"],["Book was better","Movie was better"],["Bad movie","Good movie"],["Ugly","Beautiful"],["Mature person","Immature person"],["Underrated thing to own","Overrated thing to own"],["Ordinary","Extraordinary"],["Hard to pronounce","Easy to pronounce"],["Poorly made","Well made"],["Not a sandwich","A sandwich"],["Dangerous","Safe"],["Culturally significant","Culturally insignificant"],["Optional","Mandatory"],["Underrated letter of the alphabet","Overrated letter of the alphabet"],["Low quality","High quality"],["Unsexy animal","Sexy animal"],["Quiet place","Loud place"],["Comedy","Drama"],["Need","Want"],["Dry food","Wet food"],["Replaceable","Irreplaceable"],["Worst athlete of all time","Greatest athlete of all time"],["Unethical","Ethical"],["Boring hobby","Interesting hobby"],["Bad pizza topping","Good pizza topping"],["Dystopia","Utopia"],["Rough","Smooth"],["Bad for you","Good for you"],["Peaceful","Warlike"],["Underrated Movie","Overrated movie"],["Tastes bad","Tastes good"],["Sport","Game"],["Sad movie","Happy movie"],["Waste of time","Good use of time"],["Least evil company","Most evil company"],["Snack","Meal"],["Unbelievable","Believable"],["Trashy","Classy"],["Smells bad","Smells good"],["Star Wars","Star Trek"],["Scary animal","Nice animal"],["Mainstream","Niche"],["Dark","Light"],["Underrated actor","Overrated actor"],["Difficult to use","Easy to use"],["Tired","Wired"],["80s","90s"],["Bad person","Good person"],["Sustenance","Haute cuisine"],["Soft","Hard"],["Normal thing to own","Weird thing to own"],["Straight","Curvy"],["Role model","Bad Influence"],["Useless major","Useful major"],["Mean person","Nice person"],["Action movie","Adventure movie"]],[["Short","Long"],["Worst year in history","Best year in history"],["Famous","Infamous"],["Least powerful god","Most powerful god"],["Unsexy color","Sexy color"],["Benefits you","Benefits everyone"],["Bad president","Good president"],["Weird","Strange"],["Derivative","Original"],["Etiquette","Manners"],["The worst","The best"],["Small number","Large number"],["Not enough","Too much"],["Hard to sit on","Easy to sit on"],["Talent","Skill"],["Worst era to time travel","Best era to time travel"],["Not huggable","Huggable"],["Heterogeneous","Homogeneous"],["Out of control","In control"],["Popular","Elitist"],["Non-partisan","Partisan"],["Dog name","Cat name"],["Little known fact","Well known fact"],["Socialist","Capitalist"],["Bad candy","Good candy"],["Traditional","Radical"],["Bad mouthfeel","Good mouthfeel"],["Illegal","Legal"],["Never on time","Always on time"],["Won't live to 100","Will live to 100"],["Bad Disney character","Good Disney character"],["Similar","Identical"],["Limp","Firm"],["Funny topic","Serious topic"],["Unscented","Scented"],["Horizontal","Vertical"],["Small","Tiny"],["Ugly word","Beautiful word"],["Tick","Tock"],["Bad advice","Good advice"],["Illegal","Prohibited"],["Not art","Art"],["Gossip","News"],["Guilty pleasure","Actually just bad"],["Old fashioned","Avant garde"],["True","False"],["Normal greeting","Weird greeting"],["Dictatorship","Democracy"],["Powerless","Powerful"],["Vapes","Doesn't Vape"],["Boring person","Fun person"],["Underrated book","Overrated book"],["Deep thought","Shallow thought"],["Bad school","Good school"],["Conventional wisdom","Fringe belief"],["Worst chore","Best chore"],["Endangered species","Overpopulated species"],["Blue","Green"],["Fruit","Vegetable"],["Science","Pseudoscience"],["Small talk","Heavy topic"],["Bad investment","Good investment"],["Stationary","Mobile"],["Local issue","Global issue"],["Thrilling","Terrifying"],["Nerd","Jock"],["Expected","Unexpected"],["Person you could beat up","Person who'd beat you up"],["Limited","Infinite"],["Casual event","Formal event"],["Unreasonable phobia","Reasonable phobia"],["Underrated game","Overrated game"],["Religious","Sacrilegious"],["Mild","Spicy"],["Genuine person","Phony person"],["Unnatural","Natural"],["Secret","Public Knowledge"],["Too small","Too big"],["Art","Commerce"],["One hit wonder","Pop icon"],["Unsexy Pok\xe9mon","Sexy Pok\xe9mon"],["Quiet","Loud"],["Inclusive","Exclusive"],["Bad dog (breed)","Good dog (breed)"]]),J=r(100),_=A()((function(e,t){return J.shuffle(t,e)}));function q(e,t,r){var n=e.players[e.clueGiver]?Object(g.a)(Object(g.a)({},e.players[e.clueGiver]),{},{id:e.clueGiver}):null,a=_(e.deckSeed,z);return{gameState:e,localPlayer:Object(g.a)(Object(g.a)({},e.players[r]),{},{id:r}),clueGiver:n,spectrumCard:a[e.deckIndex%a.length],setGameState:t}}function K(e,t){var r=q(t,(function(){}),e),n={clueGiver:e,roundPhase:b.GiveClue,deckIndex:t.deckIndex+1,turnsTaken:t.turnsTaken+1,spectrumTarget:p()};return null!==r.clueGiver&&(n.previousTurn={spectrumCard:r.spectrumCard,spectrumTarget:t.spectrumTarget,clueGiverName:r.clueGiver.name,clue:t.clue,guess:t.guess}),n}function Y(){var e=Object(a.useContext)(P),t=e.gameState,r=e.clueGiver,o=e.spectrumCard;if(!r)return null;var i=H(t.spectrumTarget,t.guess),s=!1;t.gameType===h.Cooperative&&4===i&&(i=3,s=!0);var c="left"===t.counterGuess&&t.spectrumTarget<t.guess||"right"===t.counterGuess&&t.spectrumTarget>t.guess;return Object(n.jsxs)("div",{children:[Object(n.jsx)(U,{spectrumCard:o,handleValue:t.guess,targetValue:t.spectrumTarget}),Object(n.jsxs)(C,{children:[Object(n.jsxs)("div",{children:[r.name,"'s clue: ",Object(n.jsx)("strong",{children:t.clue})]}),Object(n.jsxs)("div",{children:["Score: ",i," points!"]}),t.gameType===h.Teams&&Object(n.jsxs)("div",{children:[O(v(r.team))," gets",c?" 1 point for their correct counter guess.":" 0 points for their counter guess."]}),s&&Object(n.jsxs)("div",{children:["Your team earned a ",Object(n.jsx)("strong",{children:"bonus turn!"})]}),Object(n.jsx)(X,{})]})]})}function X(){var e=Object(a.useContext)(P),t=e.gameState,r=e.localPlayer,o=e.clueGiver,i=e.setGameState;if(!o)return null;var s=Object(n.jsx)(L,{text:"Reset Game",onClick:function(){i(Object(g.a)(Object(g.a)({},x()),{},{deckSeed:t.deckSeed,deckIndex:t.deckIndex}))}});if(t.leftScore>=10&&t.leftScore>t.rightScore)return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[O(m.Left)," wins!"]}),s]});if(t.rightScore>=10&&t.rightScore>t.leftScore)return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{children:[O(m.Right)," wins!"]}),s]});if(t.gameType===h.Cooperative&&t.turnsTaken>=7+t.coopBonusTurns)return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("div",{children:"Game Complete"}),Object(n.jsxs)("div",{children:["Your team's final cooperative score:"," ",Object(n.jsxs)("strong",{children:[t.coopScore," POINTS"]})]}),s]});var c=H(t.spectrumTarget,t.guess),l=O(o.team),u=!1,d=function(){if(t.gameType!==h.Teams)return m.Unset;if(4===c){if(t.leftScore<t.rightScore&&o.team===m.Left)return u=!0,m.Left;if(t.rightScore<t.leftScore&&o.team===m.Right)return u=!0,m.Right}return v(o.team)}(),j=o.id!==r.id&&(t.gameType!==h.Teams||r.team===d);return Object(n.jsxs)(n.Fragment,{children:[u&&Object(n.jsxs)(S,{children:[Object(n.jsxs)("div",{children:["Catchup activated: ",l," takes a bonus turn! "]}),Object(n.jsx)(E,{children:"After a team scores a four-point round, they get a bonus turn if they are still behind the other team."})]}),j&&Object(n.jsx)(L,{text:"Draw next Spectrum Card",onClick:function(){return i(K(r.id,t))}})]})}var Q=r(31);function Z(){var e=Object(a.useContext)(P),t=e.gameState,r=e.localPlayer,o=e.setGameState,i=Object.keys(t.players).filter((function(e){return t.players[e].team===m.Left})),s=Object.keys(t.players).filter((function(e){return t.players[e].team===m.Right})),c=function(e){o({players:Object(g.a)(Object(g.a)({},t.players),{},Object(Q.a)({},r.id,Object(g.a)(Object(g.a)({},r),{},{team:e})))})};return Object(n.jsxs)(C,{children:[Object(n.jsx)(T,{}),Object(n.jsx)("div",{children:"Join Team:"}),Object(n.jsxs)(S,{style:{alignItems:"flex-start",alignSelf:"stretch"},children:[Object(n.jsxs)(C,{children:[Object(n.jsx)("div",{children:O(m.Left)}),i.map((function(e){return Object(n.jsx)("div",{children:t.players[e].name},e)})),Object(n.jsx)("div",{children:Object(n.jsx)(L,{text:"Join",onClick:function(){return c(m.Left)}})})]}),Object(n.jsxs)(C,{children:[Object(n.jsx)("div",{children:O(m.Right)}),s.map((function(e){return Object(n.jsx)("div",{children:t.players[e].name},e)})),Object(n.jsx)("div",{children:Object(n.jsx)(L,{text:"Join",onClick:function(){return c(m.Right)}})})]})]}),t.roundPhase===b.PickTeams&&Object(n.jsx)(L,{text:"Start Game",onClick:function(){return o(function(e,t,r){var n={leftScore:0,rightScore:0};return e[t].team===m.Left?n.rightScore=1:n.leftScore=1,Object(g.a)(Object(g.a)(Object(g.a)({},K(t,r)),n),{},{previousTurn:null,gameType:h.Teams})}(t.players,r.id,t))}})]})}function $(){var e=Object(a.useContext)(P).gameState,t={borderTop:"1px solid black",margin:16,paddingTop:16,alignItems:"center"};if(e.gameType===h.Freeplay)return Object(n.jsxs)(C,{style:t,children:[Object(n.jsx)("em",{children:"Free Play"}),Object(n.jsx)(S,{style:{flexWrap:"wrap"},children:Object.keys(e.players).map(re)})]});if(e.gameType===h.Cooperative){var r=7+e.coopBonusTurns-e.turnsTaken;return Object(n.jsxs)(C,{style:t,children:[Object(n.jsxs)("em",{children:["Cooperative Score: ",e.coopScore," POINTS"]}),Object(n.jsx)("div",{children:0===r?"Last Card!":"Cards remaining: "+r}),Object(n.jsx)(S,{style:{flexWrap:"wrap"},children:Object.keys(e.players).map(re)})]})}return Object(n.jsxs)(S,{style:t,children:[Object(n.jsx)(ee,{team:m.Left,score:e.leftScore}),Object(n.jsx)(ee,{team:m.Right,score:e.rightScore})]})}function ee(e){var t=Object(a.useContext)(P).gameState,r=Object.keys(t.players).filter((function(r){return t.players[r].team===e.team}));return Object(n.jsxs)(C,{style:{alignItems:"flex-start"},children:[Object(n.jsxs)("div",{children:[O(e.team),": ",Object(n.jsx)(te,{score:e.score})," POINTS"]}),r.map(re)]})}function te(e){var t=Object(a.useRef)(e.score);return Object(a.useEffect)((function(){t.current=e.score}),[e.score]),e.score-t.current===0?Object(n.jsx)("span",{children:e.score}):Object(n.jsxs)("span",{style:{position:"relative"},children:[e.score,Object(n.jsxs)(W,{animation:"fade-disappear-up",style:{position:"absolute",fontSize:"small",top:-16,right:0},children:["+",e.score-t.current]})]})}function re(e){return Object(n.jsx)(ne,{playerId:e},e)}function ne(e){var t=Object(a.useContext)(P),r=t.gameState,o=t.setGameState,i=r.players[e.playerId],s=Object(a.useState)(!1),c=Object(d.a)(s,2),l=c[0],u=c[1],j={marginLeft:4,width:20};return Object(n.jsxs)("div",{style:{marginLeft:16,display:"flex",flexFlow:"row"},onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},children:[i.name,l?Object(n.jsx)("div",{style:Object(g.a)(Object(g.a)({},j),{},{cursor:"pointer"}),onClick:function(){delete r.players[e.playerId],o(r)},children:Object(n.jsx)(B.a,{icon:F.c})}):Object(n.jsx)("div",{style:j})]})}function ae(){var e=Object(a.useContext)(P),t=e.gameState,r=e.setGameState,o=e.localPlayer,i=function(e){e===h.Teams?r({roundPhase:b.PickTeams,gameType:e}):r(Object(g.a)(Object(g.a)({},K(o.id,t)),{},{gameType:e}))};return Object(n.jsxs)(C,{children:[Object(n.jsx)(T,{}),Object(n.jsxs)(S,{style:{flexWrap:"wrap"},children:[Object(n.jsx)(L,{text:"Standard (Teams): 4+ Players",onClick:function(){return i(h.Teams)}}),Object(n.jsx)(L,{text:"Cooperative: 2+ Players",onClick:function(){return i(h.Cooperative)}}),Object(n.jsx)(L,{text:"Free Play: 2+ Players",onClick:function(){return i(h.Freeplay)}})]})]})}function oe(){var e=Object(a.useContext)(P),t=e.gameState,r=e.localPlayer,o=e.clueGiver,i=e.spectrumCard,s=e.setGameState;if(!o)return null;var c=o.team===r.team,l=O(v(o.team));return c?Object(n.jsxs)("div",{children:[Object(n.jsx)(U,{spectrumCard:i,guessingValue:t.guess}),Object(n.jsxs)(C,{children:[Object(n.jsxs)("div",{children:[o.name,"'s clue: ",Object(n.jsx)("strong",{children:t.clue})]}),Object(n.jsxs)("div",{children:["Waiting for ",l," to guess left/right..."]})]})]}):Object(n.jsxs)("div",{children:[Object(n.jsx)(U,{spectrumCard:i,guessingValue:t.guess}),Object(n.jsx)(C,{children:Object(n.jsxs)("div",{children:[o.name,"'s clue: ",Object(n.jsx)("strong",{children:t.clue})]})}),Object(n.jsxs)(S,{children:[Object(n.jsx)(L,{text:"Target is to the Left",onClick:function(){return s(N(t,o.team,"left"))}}),Object(n.jsx)(L,{text:"Target is to the Right",onClick:function(){return s(N(t,o.team,"right"))}})]})]})}function ie(e){return Object(n.jsxs)("div",{style:{borderTop:"1px solid black",margin:16,paddingTop:16},children:[Object(n.jsx)(C,{children:Object(n.jsx)("em",{children:"Previous Turn"})}),Object(n.jsxs)("div",{style:{position:"relative"},children:[Object(n.jsx)("div",{style:{position:"absolute",zIndex:10,left:0,right:0,top:0,bottom:0,backgroundColor:"rgba(255,255,255,0.5)"}}),Object(n.jsx)(U,{spectrumCard:e.spectrumCard,handleValue:e.guess,targetValue:e.spectrumTarget}),Object(n.jsx)(C,{children:Object(n.jsxs)("div",{children:[e.clueGiverName,"'s clue: ",Object(n.jsx)("strong",{children:e.clue})]})})]})]})}function se(){var e=Object(a.useContext)(P),t=e.gameState,r=e.localPlayer;return t.roundPhase===b.SetupGame?Object(n.jsx)(ae,{}):t.gameType!==h.Teams||t.roundPhase!==b.PickTeams&&r.team!==m.Unset?Object(n.jsxs)(n.Fragment,{children:[t.roundPhase===b.GiveClue&&Object(n.jsx)(M,{}),t.roundPhase===b.MakeGuess&&Object(n.jsx)(D,{}),t.roundPhase===b.CounterGuess&&Object(n.jsx)(oe,{}),t.roundPhase===b.ViewScore&&Object(n.jsx)(Y,{}),Object(n.jsx)($,{}),t.previousTurn&&Object(n.jsx)(ie,Object(g.a)({},t.previousTurn))]}):Object(n.jsx)(Z,{})}function ce(){var e=Object(u.g)().roomId;return Object(n.jsxs)(S,{style:{justifyContent:"flex-end",alignItems:"center",color:"gray"},children:[Object(n.jsxs)("div",{style:{margin:4,padding:4},children:["Room ID: ",e]}),Object(n.jsx)(R.a,{content:Object(n.jsx)(le,{}),interactive:!0,placement:"bottom-end",children:Object(n.jsx)("div",{tabIndex:0,style:{padding:8},children:Object(n.jsx)(B.a,{icon:F.a})})})]})}function le(){var e=Object(a.useContext)(P).setGameState;return Object(n.jsx)("div",{tabIndex:0,style:{cursor:"pointer"},onClick:function(){return e(x())},children:"Reset Room"})}function ue(){var e=Object(a.useState)(Object(g.a)(Object(g.a)({},x()),{},{gameType:h.Teams,roundPhase:b.PickTeams,players:{ul:{name:"Upper Left",team:m.Left},ll:{name:"Lower Left",team:m.Left},ur:{name:"Upper Right",team:m.Right},lr:{name:"Lower Right",team:m.Right}}})),t=Object(d.a)(e,2),r=t[0],o=t[1],i=function(e){return o(Object(g.a)(Object(g.a)({},r),e))},s={width:500,margin:4,padding:4,border:"1px solid black"},c=function(e){return Object(n.jsx)("div",{style:s,children:Object(n.jsx)(P.Provider,{value:q(r,i,e),children:Object(n.jsx)(se,{})})})};return Object(n.jsxs)(S,{style:{alignItems:"stretch",position:"absolute",top:100,left:0},children:[Object(n.jsxs)(C,{style:{alignItems:"stretch",justifyContent:"space-between"},children:[c("ul"),c("ll")]}),Object(n.jsxs)(C,{style:{alignItems:"stretch",justifyContent:"space-between"},children:[c("ur"),c("lr")]})]})}function de(){var e,t=Object(u.g)().roomId;if(void 0===t)throw new Error("RoomId missing");var r=j("","name"),o=Object(d.a)(r,2),i=o[0],s=o[1],l=j(f(),"playerId"),b=Object(d.a)(l,1)[0],h=function(e,t,r){var n=Object(a.useState)(x()),o=Object(d.a)(n,2),i=o[0],s=o[1];Object(a.useEffect)((function(){var n=c.a.database().ref("rooms/"+e);return n.on("value",(function(e){var a=e.val(),o=Object(g.a)(Object(g.a)({},x()),a);if(void 0!==(null===a||void 0===a?void 0:a.roundPhase))return void 0===o.players[t]?(o.players[t]={name:r,team:m.Unset},void n.set(o)):void s(o);n.set(o)})),function(){return n.off()}}),[t,r,e]);var l=c.a.database().ref("rooms/"+e);return[i,function(e){l.set(Object(g.a)(Object(g.a)({},i),e))}]}(t,b,i),p=Object(d.a)(h,2),v=p[0],O=p[1];if("MULTIPLAYER_TEST"===t)return Object(n.jsx)(ue,{});var y=q(v,O,b);if(0===i.length)return Object(n.jsx)(G,{setName:function(e){s(e),v.players[b].name=e,O(v)}});var S=new URLSearchParams(window.location.search);if(S.get("rocketcrab")){var C=S.get("name");null!==C&&C!==i&&s(C)}return(null===v||void 0===v||null===(e=v.players)||void 0===e?void 0:e[b])?Object(n.jsxs)(P.Provider,{value:y,children:[Object(n.jsx)(ce,{}),Object(n.jsx)(se,{})]}):null}function je(){return Object(n.jsxs)("div",{style:{paddingTop:8,borderTop:"1px solid black",color:"gray",fontSize:"small",display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(n.jsxs)("p",{style:{margin:8},children:[Object(n.jsx)(be,{href:"https://www.wavelength.zone/",text:"Wavelength"})," is designed by Wolfgang Warsch, Alex Hague, and Justin Vickers."," ",Object(n.jsx)(be,{href:"https://github.com/cynicaloptimist/longwave",text:"Adapted for web"})," ","by Evan Bailey and Margarethe Schoen."]}),Object(n.jsx)("a",{target:"_blank",href:"https://www.patreon.com/improvedinitiative",children:Object(n.jsx)("img",{alt:"Patreon logo",title:"Support us on Patreon!",src:"./Digital-Patreon-Wordmark_FieryCoral.png",style:{width:"150px",margin:8}})})]})}function be(e){return Object(n.jsx)("a",{href:e.href,target:"_blank",rel:"noopener noreferrer",children:e.text})}function he(){var e=Object(u.f)();return Object(n.jsxs)(C,{children:[Object(n.jsx)(T,{}),Object(n.jsx)(L,{text:"Create Room",onClick:function(){e.push("/"+f())}}),Object(n.jsxs)("p",{style:{margin:8},children:[Object(n.jsx)("strong",{children:"Longwave"})," is an online, real-time adaptation of the"," ",Object(n.jsx)("em",{children:"Wavelength"})," board game. Best enjoyed with voice chat!"]})]})}var me={maxWidth:500,margin:4,padding:4,border:"1px solid black"};var ge=function(){return Object(n.jsx)(C,{children:Object(n.jsx)("div",{style:me,children:Object(n.jsxs)(l.a,{children:[Object(n.jsxs)(u.c,{children:[Object(n.jsx)(u.a,{path:"/:roomId",children:Object(n.jsx)(de,{})}),Object(n.jsx)(u.a,{path:"/",children:Object(n.jsx)(he,{})})]}),Object(n.jsx)(je,{})]})})})};c.a.initializeApp({apiKey:"AIzaSyAyPMuIGreq81gLErYeKGkEje851Xdh_kc",authDomain:"wavelength-online.firebaseapp.com",databaseURL:"https://wavelength-online.firebaseio.com",projectId:"wavelength-online",storageBucket:"wavelength-online.appspot.com",messagingSenderId:"811157116454",appId:"1:811157116454:web:be3d3e6b17629700c038e7",measurementId:"G-XZ13S15LMC"}),c.a.analytics().logEvent("screen_view",{app_name:"Longwave",screen_name:"index"}),s.a.render(Object(n.jsx)(o.a.StrictMode,{children:Object(n.jsx)(ge,{})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},52:function(e,t,r){},58:function(e,t,r){}},[[112,1,2]]]);
//# sourceMappingURL=main.12f8a5fe.chunk.js.map